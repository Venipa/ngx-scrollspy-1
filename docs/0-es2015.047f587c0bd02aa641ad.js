(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"8MJP":function(e,t,s){"use strict";var i=s("EM62"),l=s("2kYt"),n=s("ZTXN"),r=s("IdLP"),c=s("FU6l"),o=s("IJgj"),h=s("YtkY");function u(e,t,s,i){return Object(o.a)(s)&&(i=s,s=void 0),i?u(e,t,s).pipe(Object(h.a)(e=>Object(c.a)(e)?i(...e):i(e))):new r.a(i=>{!function e(t,s,i,l,n){let r;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(s,i,n),r=()=>e.removeEventListener(s,i,n)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(s,i),r=()=>e.off(s,i)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(s,i),r=()=>e.removeListener(s,i)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let r=0,c=t.length;r<c;r++)e(t[r],s,i,l,n)}l.add(r)}(e,t,(function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),i,s)})}var d=s("C05f"),a=s("bwdy");class m extends a.a{constructor(e,t){super()}schedule(e,t=0){return this}}class f extends m{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const s=this.id,i=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(i,s,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,s=0){return setInterval(e.flush.bind(e,this),s)}recycleAsyncId(e,t,s=0){if(null!==s&&this.delay===s&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(e,t);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s=!1,i=void 0;try{this.work(e)}catch(l){s=!0,i=!!l&&l||new Error(l)}if(s)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,s=t.actions,i=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&s.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let b=(()=>{class e{constructor(t,s=e.now){this.SchedulerAction=t,this.now=s}schedule(e,t=0,s){return new this.SchedulerAction(this,e).schedule(s,t)}}return e.now=()=>Date.now(),e})();class E extends b{constructor(e,t=b.now){super(e,()=>E.delegate&&E.delegate!==this?E.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,s){return E.delegate&&E.delegate!==this?E.delegate.schedule(e,t,s):super.schedule(e,t,s)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let s;this.active=!0;do{if(s=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,s){for(;e=t.shift();)e.unsubscribe();throw s}}}const _=new E(f);var w=s("pBDD"),S=s("mW0F");class p{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new v(e,this.durationSelector))}}class v extends w.a{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let s;try{const{durationSelector:t}=this;s=t(e)}catch(t){return this.destination.error(t)}const i=Object(S.a)(this,s);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:e,hasValue:t,throttled:s}=this;s&&(this.remove(s),this.throttled=null,s.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,s,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function y(e){return!Object(c.a)(e)&&e-parseFloat(e)+1>=0}var I=s("gBlb");function g(e){const{index:t,period:s,subscriber:i}=e;if(i.next(t),!i.closed){if(-1===s)return i.complete();e.index=t+1,this.schedule(e,s)}}function O(e,t=_){return s=()=>function(e=0,t,s){let i=-1;return y(t)?i=Number(t)<1?1:Number(t):Object(I.a)(t)&&(s=t),Object(I.a)(s)||(s=_),new r.a(t=>{const l=y(e)?e:+e-s.now();return s.schedule(g,l,{index:0,period:i,subscriber:t})})}(e,t),function(e){return e.lift(new p(s))};var s}function x(e){return t=>t.lift(new L(e))}class L{constructor(e){this.notifier=e}call(e,t){const s=new j(e),i=Object(S.a)(s,this.notifier);return i&&!s.seenValue?(s.add(i),t.subscribe(s)):s}}class j extends w.a{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,s,i,l){this.seenValue=!0,this.complete()}notifyComplete(){}}s.d(t,"a",(function(){return $})),s.d(t,"b",(function(){return D})),s.d(t,"c",(function(){return N})),s.d(t,"d",(function(){return V})),s.d(t,"e",(function(){return T}));var k=function(e){return e.vertical="vertical",e.horizontal="horizontal",e}({});const A=new i.v(null);let T=(()=>{class e{constructor(e,t){this.doc=e,this._scrollItems={},this._scrollElements={},this._$scrollElementListener={},this._scrollElementListener={},this.onStopListening=new n.a,this.resizeEvents=u(window,"resize").pipe(O(300),x(this.onStopListening)),this.scrollEvents=u(window,"scroll").pipe(O(10),x(this.onStopListening)),this._lookAhead=!1,this._activateOnlySetItems=!1,this._attributeType="id",this._initScrollElementListener("window",this._generateScrollElement("window",new i.n(e.documentElement||e.body),k.vertical)),this.resizeEvents.subscribe(()=>this._windowScroll()),this.scrollEvents.subscribe(()=>this._windowScroll()),this._windowScroll(),null!==t&&(this._lookAhead=t.lookAhead,this._activateOnlySetItems=t.activateOnlySetItems,this._attributeType=t.attributeType)}get attributeType(){return this._attributeType}_initScrollElementListener(e,t){this._scrollElements[e]=t,this._scrollElementListener[e]=null,this._$scrollElementListener[e]=new d.a(null)}_windowScroll(){this.updateScrollElement("window")}_generateScrollElement(e,t,s,i=0){return{id:e,elementRef:t,direction:s,offset:i}}setOffset(e,t){this._checkScrollElementExists(e),this._scrollElements[e].offset=t}setScrollElement(e,t,s,i=0){this._checkScrollElementNotExists(e),this._initScrollElementListener(e,this._generateScrollElement(e,t,s,i))}_checkScrollElementNotExists(e){if(null!=this._scrollElements[e])throw new Error(`ScrollSpyService: The scroll element with the id [${e}] exists.`)}setItem(e,t,s="window"){this._checkItemNotExists(e),this._scrollItems[e]=this._generateScrollObject(e,t,s),this._setDefaultItem(e,s)}_checkItemNotExists(e){if(null!=this._scrollItems[e])throw new Error(`ScrollSpyService: The scroll item with the id [${e}] exists.`)}_generateScrollObject(e,t,s){return{id:e,scrollElementId:s,elementRef:t,nativeElement:t.nativeElement}}_setDefaultItem(e,t){this._lookAhead||null==this._scrollElementListener[t]&&this._setScrollElementListener(t,this._scrollItems[e])}_setScrollElementListener(e,t){this._scrollElementListener[e]=t,setTimeout(()=>this._$scrollElementListener[e].next(t))}changeScrollElement(e,t,s,i=!1){this._checkScrollElementExists(t),this._checkScrollElementExists(s),this._checkItemExists(e);const l=this._scrollItems[e];("window"!==l.scrollElementId&&i||"window"===l.scrollElementId)&&(this._scrollItems[e].scrollElementId=s),this._setDefaultItem(e,s);const n=this._getElementItems(t);n.length>0&&this._setDefaultItem(n[0].id,t)}_getElementItems(e){const t=[];for(const s in this._scrollItems)if(this._scrollItems.hasOwnProperty(s)){const i=this._scrollItems[s];i.scrollElementId===e&&t.push(i)}return t}_checkItemExists(e){if(null==this._scrollItems[e])throw new Error(`ScrollSpyService: The scroll item with the id [${e}] doesn't exist.`)}observe(e="window"){return this._checkScrollElementExists(e),this._$scrollElementListener[e].asObservable()}_checkScrollElementExists(e){if(null==this._scrollElements[e])throw new Error(`ScrollSpyService: The scroll element with the id [${e}] doesn't exist.`)}updateScrollElement(e){this._checkScrollElementExists(e);const t=this._scrollElements[e],s=this._getElementItems(e),i=this._getActiveItem(t,s),l=this._scrollElementListener[e];null==l?null!=i&&this._setScrollElementListener(e,i):null!=i?l.id!==i.id&&this._setScrollElementListener(e,i):null==i&&this._lookAhead&&this._setScrollElementListener(e,null)}_getActiveItem(e,t){const s=e.direction;let i=null;const l=e.elementRef.nativeElement;return t.forEach(t=>{let n=!1;switch(s){case k.horizontal:const s="window"===e.id.toLowerCase()?window&&window.pageXOffset||0:l.scrollLeft;n=t.nativeElement.offsetLeft<=s+e.offset;break;default:{const s="window"===e.id.toLowerCase()?window&&window.pageYOffset||0:l.scrollTop;n=this._activateOnlySetItems?t.nativeElement.offsetTop<s+e.offset&&t.nativeElement.offsetTop+t.nativeElement.offsetHeight>s+e.offset:t.nativeElement.offsetTop<=s+e.offset}}n&&(i=t)}),i}deleteScrollElement(e){"window"===e?this._setScrollElementListener(e,null):(this._checkScrollElementExists(e),delete this._scrollElements[e],delete this._$scrollElementListener[e],delete this._scrollElementListener[e])}deleteItem(e){null!=this._scrollItems[e]&&delete this._scrollItems[e]}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Ub)(l.d),Object(i.Ub)(A,8))},e.\u0275prov=Object(i.Lb)({token:e,factory:e.\u0275fac}),e})(),V=(()=>{class e{constructor(e,t,s){this._el=e,this._scrollSpyService=t,this._cdr=s,this.classActive=!1,this.scrollElement="window"}ngOnDestroy(){this._subscriber&&this._subscriber.unsubscribe(),this._scrollSpyService.deleteItem(this.itemId)}ngAfterViewInit(){switch(this._subscriber=this._scrollSpyService.observe(this.scrollElement).subscribe(e=>{if(null!=e){const t=e.id===this.itemId;setTimeout(()=>{this.classActive=t,this._cdr.markForCheck()})}}),this._scrollSpyService.setItem(this.itemId,this._el,this.scrollElement),this._scrollSpyService.attributeType){case"data-id":this._el.nativeElement.setAttribute("data-id",this.itemId);break;default:this._el.nativeElement.setAttribute("id",this.itemId)}}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Pb)(i.n),Object(i.Pb)(T),Object(i.Pb)(i.h))},e.\u0275dir=Object(i.Kb)({type:e,selectors:[["","uniScrollSpy",""]],hostVars:2,hostBindings:function(e,t){2&e&&Object(i.Hb)("active",t.classActive)},inputs:{itemId:["uniScrollSpy","itemId"],scrollElement:"scrollElement"}}),e})(),D=(()=>{class e{constructor(e,t){this._el=e,this._scrollSpyService=t,this.direction=k.vertical}onScroll(e){this._scrollSpyService.updateScrollElement(this.elementId)}ngOnInit(){this._scrollSpyService.setScrollElement(this.elementId,this._el,this.direction),this._el.nativeElement.setAttribute("id"===this._scrollSpyService.attributeType?"id":"data-id",this.elementId)}ngAfterViewInit(){this._scrollSpyElements.toArray().forEach(e=>{this._scrollSpyService.changeScrollElement(e.itemId,e.scrollElement,this.elementId)})}ngOnDestroy(){this._scrollSpyService.deleteScrollElement(this.elementId)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Pb)(i.n),Object(i.Pb)(T))},e.\u0275dir=Object(i.Kb)({type:e,selectors:[["","uniScrollElement",""]],contentQueries:function(e,t,s){var l;1&e&&Object(i.Ib)(s,V,!0),2&e&&Object(i.jc)(l=Object(i.Zb)())&&(t._scrollSpyElements=l)},hostBindings:function(e,t){1&e&&Object(i.Yb)("scroll",(function(e){return t.onScroll(e)}))},inputs:{elementId:["uniScrollElement","elementId"],direction:"direction"}}),e})(),N=(()=>{class e{constructor(e,t){this._scrollSpyService=e,this._cdr=t,this.classActive=!1,this.scrollElement="window",this.activeEvent=new i.p}ngOnDestroy(){this._subscriber&&this._subscriber.unsubscribe()}ngAfterViewInit(){this._subscriber=this._scrollSpyService.observe(this.scrollElement).subscribe(e=>{let t;null!=e?(t=e.id===this.itemId,this.activeEvent.emit(t)):t=!1,setTimeout(()=>{this.classActive=t,this._cdr.markForCheck()})})}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Pb)(T),Object(i.Pb)(i.h))},e.\u0275dir=Object(i.Kb)({type:e,selectors:[["","uniScrollItem",""]],hostVars:2,hostBindings:function(e,t){2&e&&Object(i.Hb)("active",t.classActive)},inputs:{itemId:["uniScrollItem","itemId"],scrollElement:"scrollElement"},outputs:{activeEvent:"activeEvent"}}),e})();const P=[T];let $=(()=>{class e{static forRoot(t={lookAhead:!1}){return{ngModule:e,providers:[...P,{provide:A,useValue:t}]}}}return e.\u0275mod=Object(i.Nb)({type:e}),e.\u0275inj=Object(i.Mb)({factory:function(t){return new(t||e)},imports:[[l.c]]}),e})()}}]);